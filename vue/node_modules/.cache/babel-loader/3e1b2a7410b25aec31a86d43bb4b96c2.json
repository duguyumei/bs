{"ast":null,"code":"import request from \"@/utils/requst\";\nexport default {\n  name: \"register\",\n\n  data() {\n    return {\n      form: {}\n    };\n  },\n\n  methods: {\n    filesUploadSuccess(res, file, fileList) {\n      console.log(res);\n      this.form.url = res.data;\n    },\n\n    register() {},\n\n    beforeAvatarUpload: function (file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isPNG = file.type === 'image/png';\n      const isPG = isJPG || isPNG; //限制图片格式为jpg / png\n\n      const isLt2M = file.size / 1024 / 1024 < 2; //限制图片大小\n\n      const isSize = new Promise(function (resolve, reject) {\n        let width = 600;\n        let height = 400;\n\n        let _URL = window.URL || window.webkitURL;\n\n        let img = new Image();\n\n        img.onload = function () {\n          let valid = img.width >= width && img.height >= height;\n          valid ? resolve() : reject();\n        };\n\n        img.src = _URL.createObjectURL(file);\n      }).then(() => {\n        return file;\n      }, () => {\n        this.$message.error('上传图片像素要大于600*400!');\n        return promise.reject();\n      });\n\n      if (!isPG) {\n        this.$message.error('上传图片只能是 JPG 或 PNG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传图片大小不能超过 2MB!');\n      }\n\n      return isPG && isLt2M && isSize;\n    },\n    exceed: function () {\n      this.$message.error('最多只能上传3张图片');\n    }\n  }\n};","map":{"version":3,"mappings":"AA4DI,OAAOA,OAAP,MAAoB,gBAApB;AAEA,eAAe;AACXC,MAAI,EAAE,UADK;;AAEXC,MAAI,GAAE;AACF,WAAM;AACFC,UAAI,EAAC;AADH,KAAN;AAIH,GAPU;;AAQXC,SAAO,EAAC;AACJC,sBAAkB,CAACC,GAAD,EAAKC,IAAL,EAAUC,QAAV,EAAmB;AACjCC,aAAO,CAACC,GAAR,CAAYJ,GAAZ;AACA,WAAKH,IAAL,CAAUQ,GAAV,GAAgBL,GAAG,CAACJ,IAApB;AACH,KAJG;;AAKJU,YAAQ,GAAE,CACT,CANG;;AAOJC,sBAAkB,EAAC,UAASN,IAAT,EAAc;AAC7B,YAAMO,KAAI,GAAIP,IAAI,CAACQ,IAAL,KAAc,YAA5B;AACA,YAAMC,KAAI,GAAIT,IAAI,CAACQ,IAAL,KAAc,WAA5B;AACA,YAAME,IAAG,GAAKH,KAAI,IAAKE,KAAvB,CAH6B,CAGuC;;AACpE,YAAME,MAAK,GAAIX,IAAI,CAACY,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,CAAzC,CAJ6B,CAIuC;;AACpE,YAAMC,MAAK,GAAI,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAiBC,MAAjB,EAAyB;AAChD,YAAIC,KAAI,GAAI,GAAZ;AACA,YAAIC,MAAK,GAAI,GAAb;;AACA,YAAIC,IAAG,GAAIC,MAAM,CAACC,GAAP,IAAcD,MAAM,CAACE,SAAhC;;AACA,YAAIC,GAAE,GAAI,IAAIC,KAAJ,EAAV;;AACAD,WAAG,CAACE,MAAJ,GAAa,YAAW;AACpB,cAAIC,KAAI,GAAIH,GAAG,CAACN,KAAJ,IAAaA,KAAb,IAAsBM,GAAG,CAACL,MAAJ,IAAcA,MAAhD;AACAQ,eAAI,GAAIX,OAAO,EAAX,GAAgBC,MAAM,EAA1B;AACJ,SAHA;;AAIAO,WAAG,CAACI,GAAJ,GAAUR,IAAI,CAACS,eAAL,CAAqB5B,IAArB,CAAV;AACH,OAVc,EAUZ6B,IAVY,CAUP,MAAM;AACV,eAAO7B,IAAP;AACH,OAZc,EAYb,MAAI;AACF,aAAK8B,QAAL,CAAcC,KAAd,CAAoB,mBAApB;AACA,eAAOC,OAAO,CAAChB,MAAR,EAAP;AACH,OAfc,CAAf;;AAgBA,UAAI,CAACN,IAAL,EAAW;AACP,aAAKoB,QAAL,CAAcC,KAAd,CAAoB,uBAApB;AACJ;;AACA,UAAI,CAACpB,MAAL,EAAa;AACT,aAAKmB,QAAL,CAAcC,KAAd,CAAoB,iBAApB;AACJ;;AACA,aAAOrB,IAAG,IAAKC,MAAR,IAAkBE,MAAzB;AACH,KAnCG;AAoCJoB,UAAM,EAAC,YAAU;AACb,WAAKH,QAAL,CAAcC,KAAd,CAAoB,YAApB;AACJ;AAtCI;AARG,CAAf","names":["request","name","data","form","methods","filesUploadSuccess","res","file","fileList","console","log","url","register","beforeAvatarUpload","isJPG","type","isPNG","isPG","isLt2M","size","isSize","Promise","resolve","reject","width","height","_URL","window","URL","webkitURL","img","Image","onload","valid","src","createObjectURL","then","$message","error","promise","exceed"],"sourceRoot":"","sources":["E:\\notejs\\manage\\vue\\src\\views\\register.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"img\"><img src=\"../assets/register.png\" alt=\"picture\"></div>\r\n        <div class=\"container_main\">\r\n        <el-form  ref=\"form\" :model=\"form\" :label-position=\"left\">\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.username\" prefix-icon=\"Avatar\" placeholder=\"请输入账号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.password\" prefix-icon=\"lock\" placeholder=\"请输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" prefix-icon=\"lock\" placeholder=\"请确认密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.phone\" prefix-icon=\"Iphone\" placeholder=\"请填写手机号码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.name\" prefix-icon=\"house\" placeholder=\"请输入店名\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.address\" prefix-icon=\"location\" placeholder=\"请填写实体店地址\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.message\" prefix-icon=\"document\" placeholder=\"请填写描述\" show-password></el-input>\r\n            </el-form-item>\r\n<!--            上传证件照片-->\r\n            <el-upload\r\n                    class=\"upload-demo\"\r\n                    action=\"http://localhost:8090/files/upload/\"\r\n                    multiple\r\n                    :limit=\"5\"\r\n                    :on-success = \"filesUploadSuccess\"\r\n            >\r\n                <el-button type=\"primary\">上传</el-button>\r\n                <template #tip>\r\n                    <div class=\"el-upload__tip\">\r\n                        上传证件照片\r\n                    </div>\r\n                </template>\r\n            </el-upload>\r\n            <el-upload\r\n                    action = \"#\"\r\n            list-type = \"picture-card\"\r\n            :class = \"{disabled:isMax}\"\r\n            :limit = 3\r\n            :on-success = \"filesUploadSuccess\"\r\n            :before-upload = \"beforeAvatarUpload\">\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">封面</div>\r\n            </el-upload>\r\n            <el-form-item style=\"align-content: center \">\r\n                <el-button class=\"btn_login\" style=\"width: 100%;height: 40px\" type=\"primary\" @click=\"login\">注册</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"@/utils/requst\";\r\n\r\n    export default {\r\n        name: \"register\",\r\n        data(){\r\n            return{\r\n                form:{\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            filesUploadSuccess(res,file,fileList){\r\n                console.log(res);\r\n                this.form.url = res.data;\r\n            },\r\n            register(){\r\n            },\r\n            beforeAvatarUpload:function(file){\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isPNG = file.type === 'image/png';\r\n                const isPG = (isJPG || isPNG)                                       //限制图片格式为jpg / png\r\n                const isLt2M = file.size / 1024 / 1024 < 2;                         //限制图片大小\r\n                const isSize = new Promise(function(resolve,reject) {\r\n                    let width = 600\r\n                    let height = 400\r\n                    let _URL = window.URL || window.webkitURL\r\n                    let img = new Image()\r\n                    img.onload = function() {\r\n                        let valid = img.width >= width && img.height >= height\r\n                        valid ? resolve() : reject();\r\n                    }\r\n                    img.src = _URL.createObjectURL(file)\r\n                }).then(() => {\r\n                    return file;\r\n                },()=>{\r\n                    this.$message.error('上传图片像素要大于600*400!');\r\n                    return promise.reject();\r\n                })\r\n                if (!isPG) {\r\n                    this.$message.error('上传图片只能是 JPG 或 PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传图片大小不能超过 2MB!');\r\n                }\r\n                return isPG && isLt2M && isSize\r\n            },\r\n            exceed:function(){\r\n                this.$message.error('最多只能上传3张图片')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"../assets/css/register.css\";\r\n</style>"]},"metadata":{},"sourceType":"module"}
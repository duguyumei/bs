{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/register.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-77453986\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"register\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"img\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"picture\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"register_main\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"el-icon-upload\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"el-upload__text\"\n}, \"上传证件照片\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"注册\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_form, {\n    ref: \"form\",\n    model: $data.form,\n    \"label-position\": _ctx.left\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.username,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.username = $event),\n        \"prefix-icon\": \"Avatar\",\n        placeholder: \"请输入账号\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.password = $event),\n        \"prefix-icon\": \"lock\",\n        placeholder: \"请输入密码\",\n        \"show-password\": \"\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.repassword,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.repassword = $event),\n        \"prefix-icon\": \"lock\",\n        placeholder: \"请确认密码\",\n        \"show-password\": \"\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.phone,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.phone = $event),\n        \"prefix-icon\": \"Iphone\",\n        placeholder: \"请填写手机号码\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.name,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.form.name = $event),\n        \"prefix-icon\": \"house\",\n        placeholder: \"请输入店名\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.address,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.form.address = $event),\n        \"prefix-icon\": \"location\",\n        placeholder: \"请填写实体店地址\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        class: \"input\",\n        size: \"large\",\n        modelValue: $data.form.message,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.message = $event),\n        \"prefix-icon\": \"document\",\n        placeholder: \"请填写描述\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createCommentVNode(\"            上传证件照片\"), _createVNode(_component_el_upload, {\n      action: \"http://localhost:8090/files/upload/\",\n      \"list-type\": \"picture-card\",\n      class: _normalizeClass({\n        disabled: _ctx.isMax\n      }),\n      limit: 5,\n      \"on-success\": $options.filesUploadSuccess,\n      \"on-exceed\": $options.exceed,\n      \"before-upload\": $options.beforeAvatarUpload\n    }, {\n      default: _withCtx(() => [_hoisted_4, _hoisted_5]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"class\", \"on-success\", \"on-exceed\", \"before-upload\"]), _createVNode(_component_el_form_item, {\n      style: {\n        \"align-content\": \"center\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        class: \"btn_login\",\n        style: {\n          \"width\": \"100%\",\n          \"height\": \"40px\"\n        },\n        type: \"primary\",\n        onClick: $options.isOnly\n      }, {\n        default: _withCtx(() => [_hoisted_6]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\", \"label-position\"])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_2","_createVNode","_component_el_form","ref","model","$data","_ctx","_component_el_form_item","_component_el_input","size","username","$event","placeholder","password","phone","name","address","message","_createCommentVNode","_component_el_upload","action","disabled","limit","$options","_hoisted_4","_hoisted_5","style","_component_el_button","type","onClick"],"sourceRoot":"","sources":["E:\\notejs\\manage\\vue\\src\\views\\register.vue"],"sourcesContent":["<template>\r\n    <div class=\"register\">\r\n        <div class=\"img\"><img src=\"../assets/register.png\" alt=\"picture\"></div>\r\n        <div class=\"register_main\">\r\n        <el-form  ref=\"form\" :model=\"form\" :label-position=\"left\">\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.username\" prefix-icon=\"Avatar\" placeholder=\"请输入账号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.password\" prefix-icon=\"lock\" placeholder=\"请输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"repassword\" prefix-icon=\"lock\" placeholder=\"请确认密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.phone\" prefix-icon=\"Iphone\" placeholder=\"请填写手机号码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.name\" prefix-icon=\"house\" placeholder=\"请输入店名\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.address\" prefix-icon=\"location\" placeholder=\"请填写实体店地址\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input class=\"input\" size=\"large\" v-model=\"form.message\" prefix-icon=\"document\" placeholder=\"请填写描述\"></el-input>\r\n            </el-form-item>\r\n<!--            上传证件照片-->\r\n            <el-upload action = \"http://localhost:8090/files/upload/\"\r\n            list-type = \"picture-card\"\r\n            :class = \"{disabled:isMax}\"\r\n            :limit = 5\r\n            :on-success = \"filesUploadSuccess\"\r\n            :on-exceed = \"exceed\"\r\n            :before-upload = \"beforeAvatarUpload\">\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">上传证件照片</div>\r\n            </el-upload>\r\n            <el-form-item style=\"align-content: center \">\r\n                <el-button class=\"btn_login\" style=\"width: 100%;height: 40px\" type=\"primary\" @click=\"isOnly\">注册</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"@/utils/requst\";\r\n\r\n    export default {\r\n        name: \"register\",\r\n        data(){\r\n            return{\r\n                form:{\r\n                },\r\n                repassword:\"\"\r\n            }\r\n        },\r\n        methods: {\r\n            //记录图片路径\r\n            filesUploadSuccess(res, file, fileList) {\r\n                console.log(res);\r\n                if (this.form.documents == null || this.form.documents == \"\") {\r\n                    this.form.documents = \"\";\r\n                    this.form.documents = res.data\r\n                } else {\r\n                    this.form.documents = this.form.documents + \"---\" + res.data;\r\n                }\r\n                console.log(this.form.documents);\r\n            },\r\n            //申请注册\r\n            register() {\r\n                this.form.status = -1;\r\n                request.post(\"/user\", this.form).then(res => {\r\n                    console.log(res)\r\n                    if (res.code === '0') {\r\n                        this.$message({\r\n                            type: \"success\",\r\n                            message: \"申请成功\"\r\n                        });\r\n                        this.$router.push('/login');\r\n                    } else {\r\n                        this.$message({\r\n                            type: \"error\",\r\n                            message: res.msg()\r\n                        })\r\n                    }\r\n                });\r\n            },\r\n            beforeAvatarUpload: function (file) {\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isPNG = file.type === 'image/png';\r\n                const isPG = (isJPG || isPNG)                                       //限制图片格式为jpg / png\r\n                const isLt2M = file.size / 1024 / 1024 < 2;                         //限制图片大小\r\n                const isSize = new Promise(function (resolve, reject) {\r\n                    let width = 0\r\n                    let height = 0\r\n                    let _URL = window.URL || window.webkitURL\r\n                    let img = new Image()\r\n                    img.onload = function () {\r\n                        let valid = img.width >= width && img.height >= height\r\n                        valid ? resolve() : reject();\r\n                    }\r\n                    img.src = _URL.createObjectURL(file)\r\n                }).then(() => {\r\n                    return file;\r\n                }, () => {\r\n                    this.$message.error('上传图片像素要大于600*400!');\r\n                    return promise.reject();\r\n                })\r\n                if (!isPG) {\r\n                    this.$message.error('上传图片只能是 JPG 或 PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传图片大小不能超过 2MB!');\r\n                }\r\n                return isPG && isLt2M && isSize\r\n            },\r\n            exceed: function () {\r\n                this.$message.error('最多只能上传3张图片')\r\n            },\r\n            isOnly:function(){\r\n                var url = \"user/isOnly?name=\" + this.form.name + \"&username=\" + this.form.username;\r\n                request.get(url).then(res =>{\r\n                    console.log(res)\r\n                    if(res.code == -1){\r\n                        alert(res.data);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"../assets/css/register.css\";\r\n</style>"]},"metadata":{},"sourceType":"module"}
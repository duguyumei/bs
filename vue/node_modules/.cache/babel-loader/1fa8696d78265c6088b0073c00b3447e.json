{"ast":null,"code":"import request from \"@/utils/requst\";\nexport default {\n  name: 'HomeView',\n  components: {},\n\n  data() {\n    return {\n      form: {},\n      dialogVisible: false,\n      search: '',\n      currentPage: 1,\n      total: 0,\n      pageSize: 10,\n      tableData: []\n    };\n  },\n\n  created() {\n    //页面加载时的方法\n    this.getData();\n  },\n\n  methods: {\n    //渲染tabledata\n    getData() {\n      request.get(\"/user\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data.records;\n        this.total = res.data.total;\n      });\n    },\n\n    //控制表单弹窗\n    add() {\n      this.dialogVisible = true;\n      this.form = {};\n    },\n\n    save() {\n      //向后台发送数据\n      if (this.form.id) {\n        request.put(\"/user\", this.form).then(res => {\n          console.log(res);\n\n          if (res === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"更新成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg()\n            });\n          }\n        });\n      } else {\n        request.post(\"/user\", this.form).then(res => {\n          console.log(res);\n\n          if (res === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"新增成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg()\n            });\n          }\n        });\n      }\n\n      this.getData();\n      this.dialogVisible = false;\n    },\n\n    handleEdit(row) {\n      this.form = JSON.parse(JSON.stringify(row)); //深拷贝,独立对象\n\n      this.dialogVisible = true;\n    },\n\n    handleSizeChange() {},\n\n    handleCurrentChange() {}\n\n  }\n};","map":{"version":3,"mappings":"AAsEA,OAAOA,OAAP,MAAoB,gBAApB;AAEA,eAAe;AACXC,MAAI,EAAE,UADK;AAEXC,YAAU,EAAE,EAFD;;AAKXC,MAAI,GAAE;AACF,WAAM;AACFC,UAAI,EAAC,EADH;AAEFC,mBAAa,EAAC,KAFZ;AAGFC,YAAM,EAAC,EAHL;AAIFC,iBAAW,EAAC,CAJV;AAKFC,WAAK,EAAC,CALJ;AAMFC,cAAQ,EAAC,EANP;AAOFC,eAAS,EAAC;AAPR,KAAN;AASH,GAfU;;AAgBXC,SAAO,GAAG;AACN;AACA,SAAKC,OAAL;AACH,GAnBU;;AAoBXC,SAAO,EAAC;AACJ;AACAD,WAAO,GAAE;AACLZ,aAAO,CAACc,GAAR,CAAY,OAAZ,EAAoB;AAChBC,cAAM,EAAC;AACHC,iBAAO,EAAC,KAAKT,WADV;AAEHE,kBAAQ,EAAC,KAAKA,QAFX;AAGHH,gBAAM,EAAC,KAAKA;AAHT;AADS,OAApB,EAMGW,IANH,CAMQC,GAAG,IAAE;AACTC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKR,SAAL,GAAiBQ,GAAG,CAACf,IAAJ,CAASkB,OAA1B;AACA,aAAKb,KAAL,GAAaU,GAAG,CAACf,IAAJ,CAASK,KAAtB;AACH,OAVD;AAWH,KAdG;;AAeJ;AACAc,OAAG,GAAE;AACD,WAAKjB,aAAL,GAAqB,IAArB;AACA,WAAKD,IAAL,GAAY,EAAZ;AACH,KAnBG;;AAoBJmB,QAAI,GAAE;AACF;AACA,UAAG,KAAKnB,IAAL,CAAUoB,EAAb,EAAgB;AACZxB,eAAO,CAACyB,GAAR,CAAY,OAAZ,EAAoB,KAAKrB,IAAzB,EAA+Ba,IAA/B,CAAoCC,GAAG,IAAE;AACrCC,iBAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,cAAGA,GAAE,KAAM,GAAX,EAAe;AACX,iBAAKQ,QAAL,CAAc;AACVC,kBAAI,EAAC,SADK;AAEVC,qBAAO,EAAC;AAFE,aAAd;AAIH,WALD,MAKM;AACF,iBAAKF,QAAL,CAAc;AACVC,kBAAI,EAAC,OADK;AAEVC,qBAAO,EAACV,GAAG,CAACW,GAAJ;AAFE,aAAd;AAIJ;AACH,SAbD;AAcH,OAfD,MAeK;AACD7B,eAAO,CAAC8B,IAAR,CAAa,OAAb,EAAqB,KAAK1B,IAA1B,EAAgCa,IAAhC,CAAqCC,GAAG,IAAE;AACtCC,iBAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,cAAGA,GAAE,KAAM,GAAX,EAAe;AACX,iBAAKQ,QAAL,CAAc;AACVC,kBAAI,EAAC,SADK;AAEVC,qBAAO,EAAC;AAFE,aAAd;AAIH,WALD,MAKM;AACF,iBAAKF,QAAL,CAAc;AACVC,kBAAI,EAAC,OADK;AAEVC,qBAAO,EAACV,GAAG,CAACW,GAAJ;AAFE,aAAd;AAIJ;AACH,SAbD;AAcJ;;AACA,WAAKjB,OAAL;AACA,WAAKP,aAAL,GAAqB,KAArB;AACH,KAvDG;;AAwDJ0B,cAAU,CAACC,GAAD,EAAK;AACX,WAAK5B,IAAL,GAAY6B,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAZ,CADW,CACgC;;AAC3C,WAAK3B,aAAL,GAAqB,IAArB;AACH,KA3DG;;AA4DJ+B,oBAAgB,GAAE,CAEjB,CA9DG;;AA+DJC,uBAAmB,GAAE,CAErB;;AAjEI;AApBG,CAAf","names":["request","name","components","data","form","dialogVisible","search","currentPage","total","pageSize","tableData","created","getData","methods","get","params","pageNum","then","res","console","log","records","add","save","id","put","$message","type","message","msg","post","handleEdit","row","JSON","parse","stringify","handleSizeChange","handleCurrentChange"],"sourceRoot":"","sources":["E:\\notejs\\manage\\vue\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n    <div style=\"padding: 10px;\">\n        <!--                搜索区域-->\n        <div style=\"width: 100%;height: 50px\">\n            <el-input v-model=\"search\" placeholder=\"Please input\" style=\"width: 30%;\" clearable/>\n            <el-button type=\"primary\" @click=\"getData()\">搜索</el-button>\n        </div>\n        <!--                表格区域-->\n        <div>\n            <el-table :data=\"tableData\" border style=\"width: 100%\">\n                <el-table-column prop=\"id\" label=\"Id\" sortable/>\n                <el-table-column prop=\"name\" label=\"Name\" />\n                <el-table-column prop=\"password\" label=\"Password\" />\n                <el-table-column prop=\"username\" label=\"Username\" />\n                <el-table-column prop=\"address\" label=\"Address\" />\n                <el-table-column prop=\"message\" label=\"Message\" />\n                <el-table-column fixed=\"right\" label=\"Operations\" width=\"120\">\n                    <template #default>\n                        <el-button type=\"text\" size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                        <el-popconfirm title=\"Are you sure to delete this?\">\n                            <template #reference><el-button type=\"text\" size=\"small\">删除</el-button></template>\n                        </el-popconfirm>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <!--分页-->\n            <div style=\"margin-top: 10px\">\n                <el-pagination\n                        v-model:currentPage=\"currentPage\"\n                        :page-size=\"pageSize\"\n                        :page-sizes=\"[5, 10, 20]\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=total\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                >\n                </el-pagination>\n            </div>\n        </div>\n        <!--    新增 删除-->\n        <div style=\"margin: 10px 0px;display: block\">\n            <el-button type=\"primary\" @click=\"add\">新增</el-button>\n        </div>\n        <el-dialog v-model=\"dialogVisible\" title=\"Tips\" width=\"30%\">\n            <el-form :model=\"form\" label-width=\"120px\">\n                <el-form-item label=\"用户名\">\n                    <el-input v-model=\"form.username\" style=\"width: 80%\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"商家名\">\n                    <el-input v-model=\"form.name\" style=\"width: 80%\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"地址\">\n                    <el-input type=\"textarea\" v-model=\"form.address\" style=\"width: 80%\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"简介\">\n                    <el-input type=\"textarea\" v-model=\"form.message\" style=\"width: 80%\"></el-input>\n                </el-form-item>\n            </el-form>\n            <template #footer>\n            <span class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n                <el-button type=\"primary\" @click=\"save\">Confirm</el-button>\n            </span>\n            </template>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/requst\";\n\nexport default {\n    name: 'HomeView',\n    components: {\n\n    },\n    data(){\n        return{\n            form:{},\n            dialogVisible:false,\n            search:'',\n            currentPage:1,\n            total:0,\n            pageSize:10,\n            tableData:[]\n        }\n    },\n    created() {\n        //页面加载时的方法\n        this.getData();\n    },\n    methods:{\n        //渲染tabledata\n        getData(){\n            request.get(\"/user\",{\n                params:{\n                    pageNum:this.currentPage,\n                    pageSize:this.pageSize,\n                    search:this.search\n                }\n            }).then(res=>{\n                console.log(res)\n                this.tableData = res.data.records;\n                this.total = res.data.total;\n            })\n        },\n        //控制表单弹窗\n        add(){\n            this.dialogVisible = true;\n            this.form = {};\n        },\n        save(){\n            //向后台发送数据\n            if(this.form.id){\n                request.put(\"/user\",this.form).then(res=>{\n                    console.log(res)\n                    if(res === '0'){\n                        this.$message({\n                            type:\"success\",\n                            message:\"更新成功\"\n                        })\n                    }else {\n                        this.$message({\n                            type:\"error\",\n                            message:res.msg()\n                        })\n                    }\n                });\n            }else{\n                request.post(\"/user\",this.form).then(res=>{\n                    console.log(res)\n                    if(res === '0'){\n                        this.$message({\n                            type:\"success\",\n                            message:\"新增成功\"\n                        })\n                    }else {\n                        this.$message({\n                            type:\"error\",\n                            message:res.msg()\n                        })\n                    }\n                });\n            }\n            this.getData();\n            this.dialogVisible = false;\n        },\n        handleEdit(row){\n            this.form = JSON.parse(JSON.stringify(row))//深拷贝,独立对象\n            this.dialogVisible = true;\n        },\n        handleSizeChange(){\n\n        },\n        handleCurrentChange(){\n\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .demo-pagination-block {\n        margin-top: 10px;\n    }\n    .demo-pagination-block{\n        margin-bottom: 16px;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}
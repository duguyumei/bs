{"ast":null,"code":"import request from \"@/utils/requst\";\nexport default {\n  name: \"dishManage\",\n  components: {},\n\n  data() {\n    return {\n      search: '',\n      //搜索关键词\n      tableData: [],\n      //表格数据\n      total: 0,\n      //数据量\n      currentPage: 1,\n      //页码\n      pageSize: 10 //页容量\n\n    };\n  },\n\n  created() {//页面加载时的方法\n    // this.getData();\n  },\n\n  methods: {\n    //渲染tabledata\n    getData() {\n      request.get(\"/user/dishes\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data.records;\n        this.total = res.data.total;\n      });\n    },\n\n    //分页操作\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.getData();\n    },\n\n    handleCurrentChange(currentPage) {\n      this.currentPage = currentPage;\n      this.getData();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+CI,OAAOA,OAAP,MAAoB,gBAApB;AAEA,eAAe;AACXC,MAAI,EAAE,YADK;AAEXC,YAAU,EAAE,EAFD;;AAKXC,MAAI,GAAE;AACF,WAAM;AACFC,YAAM,EAAC,EADL;AACS;AACXC,eAAS,EAAC,EAFR;AAEY;AACdC,WAAK,EAAC,CAHJ;AAGO;AACTC,iBAAW,EAAC,CAJV;AAIa;AACfC,cAAQ,EAAC,EALP,CAKW;;AALX,KAAN;AAOH,GAbU;;AAcXC,SAAO,GAAG,CACN;AACA;AACH,GAjBU;;AAkBXC,SAAO,EAAC;AACJ;AACAC,WAAO,GAAE;AACLX,aAAO,CAACY,GAAR,CAAY,cAAZ,EAA2B;AACvBC,cAAM,EAAC;AACHC,iBAAO,EAAC,KAAKP,WADV;AAEHC,kBAAQ,EAAC,KAAKA,QAFX;AAGHJ,gBAAM,EAAC,KAAKA;AAHT;AADgB,OAA3B,EAMGW,IANH,CAMQC,GAAG,IAAE;AACTC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKX,SAAL,GAAiBW,GAAG,CAACb,IAAJ,CAASgB,OAA1B;AACA,aAAKb,KAAL,GAAaU,GAAG,CAACb,IAAJ,CAASG,KAAtB;AACH,OAVD;AAWH,KAdG;;AAeJ;AACAc,oBAAgB,CAACZ,QAAD,EAAU;AACtB,WAAKA,QAAL,GAAgBA,QAAhB;AACA,WAAKG,OAAL;AACH,KAnBG;;AAoBJU,uBAAmB,CAACd,WAAD,EAAa;AAC5B,WAAKA,WAAL,GAAmBA,WAAnB;AACA,WAAKI,OAAL;AACJ;;AAvBI;AAlBG,CAAf","names":["request","name","components","data","search","tableData","total","currentPage","pageSize","created","methods","getData","get","params","pageNum","then","res","console","log","records","handleSizeChange","handleCurrentChange"],"sourceRoot":"","sources":["E:\\notejs\\manage\\vue\\src\\views\\dishManage.vue"],"sourcesContent":["<template>\r\n    <div class=\"dishManage\">\r\n        <!--                搜索区域-->\r\n        <div class=\"dishManage_search\">\r\n            <el-input v-model=\"search\" placeholder=\"Please input\" style=\"width: 30%;\" clearable/>\r\n            <el-button type=\"primary\" @click=\"getData()\">搜索</el-button>\r\n        </div>\r\n        <!--                表格区域-->\r\n        <div class=\"dishManage_table\">\r\n            <el-table :data=\"tableData\" border>\r\n                <el-table-column prop=\"name\" label=\"菜品名\"/>\r\n                <el-table-column prop=\"url\" label=\"图片\" />\r\n                <el-table-column prop=\"message\" label=\"详情\" />\r\n                <el-table-column prop=\"gather\" label=\"分类\" />\r\n                <el-table-column prop=\"money\" label=\"价格\" />\r\n                <el-table-column prop=\"discount\" label=\"折扣\" />\r\n                <el-table-column prop=\"monthsales\" label=\"总销量\" />\r\n                <el-table-column prop=\"sales\" label=\"总销量\" />\r\n                <el-table-column prop=\"praise\" label=\"赞\" />\r\n                <el-table-column prop=\"state\" label=\"状态\" />\r\n                <el-table-column fixed=\"right\" label=\"Operations\" width=\"120\">\r\n                    <template #default=\"scope\">\r\n                        <el-button type=\"text\" size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                        <el-popconfirm title=\"Are you sure to delete this?\" @confirm=\"handleDelete(scope.row.id)\">\r\n                            <template #reference><el-button type=\"text\" size=\"small\">删除</el-button></template>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!--分页-->\r\n            <div style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                        v-model:currentPage=\"currentPage\"\r\n                        :page-size=\"pageSize\"\r\n                        :page-sizes=\"[5, 10, 20]\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=total\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                >\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"@/utils/requst\";\r\n\r\n    export default {\r\n        name: \"dishManage\",\r\n        components: {\r\n\r\n        },\r\n        data(){\r\n            return{\r\n                search:'', //搜索关键词\r\n                tableData:[], //表格数据\r\n                total:0, //数据量\r\n                currentPage:1, //页码\r\n                pageSize:10, //页容量\r\n            }\r\n        },\r\n        created() {\r\n            //页面加载时的方法\r\n            // this.getData();\r\n        },\r\n        methods:{\r\n            //渲染tabledata\r\n            getData(){\r\n                request.get(\"/user/dishes\",{\r\n                    params:{\r\n                        pageNum:this.currentPage,\r\n                        pageSize:this.pageSize,\r\n                        search:this.search\r\n                    }\r\n                }).then(res=>{\r\n                    console.log(res)\r\n                    this.tableData = res.data.records;\r\n                    this.total = res.data.total;\r\n                })\r\n            },\r\n            //分页操作\r\n            handleSizeChange(pageSize){\r\n                this.pageSize = pageSize;\r\n                this.getData();\r\n            },\r\n            handleCurrentChange(currentPage){\r\n                this.currentPage = currentPage;\r\n                this.getData();\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"../assets/css/dishManage.css\";\r\n</style>"]},"metadata":{},"sourceType":"module"}